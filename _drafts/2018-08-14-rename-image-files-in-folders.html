---
layout: post
title: Rename Image Files in Folders
date: 2018-08-14 10:27:57.000000000 +01:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- code
tags:
- automatic
- code
- folder
- image
- rename
- script
meta:
  _wpcom_is_markdown: '1'
  _edit_last: '1'
  _wpas_skip_5760912: '1'
  _publicize_twitter_user: "@cullaloe"
  _wpas_done_all: '1'
  _jetpack_related_posts_cache: a:1:{s:32:"8f6677c9d6b0f903e98ad32ec61f8deb";a:2:{s:7:"expires";i:1560013106;s:7:"payload";a:3:{i:0;a:1:{s:2:"id";i:2792;}i:1;a:1:{s:2:"id";i:1216;}i:2;a:1:{s:2:"id";i:945;}}}}
author:
  login: admin
  email: admin@cullaloe.net
  display_name: Nick
  first_name: Nick
  last_name: Hood
permalink: "/blog/2018/08/14/rename-image-files-in-folders/"
---
<p>This is a Python script to walk a directory tree, renaming .jpg and .JPG files. It was written for a client who had a directory containing multiple directories, each containingÂ zero or more (up to 100) image files. Most of the images were named &lt;abitrary name 1&gt;.jpg or &lt;arbitrary name 2&gt;.JPG.<br />
The client wanted each folder's images to be numbered 001.jpg to nnn.jpg for some further process.</p>
<pre>import os
import imghdr

def renamefiles(path):
rootstructure=os.path.abspath(path)
n = 0
for root, dirs, files in os.walk(rootstructure):
for f in files:
if os.getcwd() != root:
n = 0 # Reset the counter
os.chdir(root)

type = imghdr.what(f)
if type == 'jpeg':
n +=1
os.rename(f, str(n).zfill(3) + ".jpg")

# Specify the full path to the directory here.
renamefiles("/Users/myuser/Desktop/TheImageFolder")</pre>
