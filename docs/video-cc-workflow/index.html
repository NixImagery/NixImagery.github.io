<!DOCTYPE html>
<html lang="en">
    <head>
	<meta charset="utf-8">
	<title>Video capture and production including closed captions - Tech, tales and imagery</title>

  <!-- Edit site and author settings in `_config.yml` to make the social details your own -->

    <meta content="Tech, tales and imagery" property="og:site_name">
  
    <meta content="Video capture and production including closed captions" property="og:title">
  
  
    <meta content="article" property="og:type">
  
  
    <meta content="A technical blog" property="og:description">
  
  
    <meta content="https://cullaloe.com/video-cc-workflow/" property="og:url">
  
  
    <meta content="2020-08-30T00:00:00+01:00" property="article:published_time">
    <meta content="https://cullaloe.com/about/" property="article:author">
  
  
    <meta content="https://cullaloe.com/assets/img/Screenshot-2020-08-30.png" property="og:image">
  
  
    
  
  
    
    <meta content="Education" property="article:tag">
    
    <meta content="Digital Literacy" property="article:tag">
    
    <meta content="Video" property="article:tag">
    
    <meta content="Closed Caption" property="article:tag">
    
    <meta content="OSX" property="article:tag">
    
    <meta content="Transcription" property="article:tag">
    
  

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@cullaloe">
    <meta name="twitter:creator" content="@NixImagery">
  
    <meta name="twitter:title" content="Video capture and production including closed captions">
  
  
    <meta name="twitter:url" content="https://cullaloe.com/video-cc-workflow/">
  
  
    <meta name="twitter:description" content="A technical blog">
  
  
    <meta name="twitter:image:src" content="https://cullaloe.com/assets/img/Screenshot-2020-08-30.png">
  

	<meta name="description" content="">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta property="og:image" content="">
	<link rel="shortcut icon" href="/assets/img/favicon/favicon.ico" type="image/x-icon">
	<link rel="apple-touch-icon" href="/assets/img/favicon/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicon/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicon/apple-touch-icon-144x144.png">
	<!-- Chrome, Firefox OS and Opera -->
	<meta name="theme-color" content="#263959">
	<!-- Windows Phone -->
	<meta name="msapplication-navbutton-color" content="#263959">
	<!-- iOS Safari -->
	<meta name="apple-mobile-web-app-status-bar-style" content="#263959">
	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=PT+Serif:400,700" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet">
	<!-- Font Awesome -->
	<link rel="stylesheet" href="/assets/fonts/font-awesome/css/font-awesome.min.css">
  <!-- Academicons -->
  <link rel="stylesheet" href="/assets/fonts/academicons/css/academicons.min.css">
	<!-- Styles -->
	<link rel="stylesheet" href="/assets/css/main.css">
  <link rel="stylesheet" href="/assets/css/search.css">



<!-- Buy me a coffee -->
<script data-name="BMC-Widget" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="cullaloe" data-description="Helpful? Buy me a coffee!" data-message="" data-color="#5F7FFF" data-position="right" data-x_margin="18" data-y_margin="18"></script>
<!-- /Buy me a coffee -->

</head>

<body>

  <div class="wrapper">
    <aside class="sidebar">
  <header>
    <div class="about">
      <div class="cover-author-image">
        <a href="/"><img src="/assets/img/nick-hood.jpg" alt="Nick Hood"></a>
      </div>
      <div class="author-name">by <a href="/about" target="_self" class="plain">Nick Hood</a></div>
      <p><a href="/tags" target="_self" class="plain">Tech, tales and imagery</a></p>
      <div class="search" id="js-search">
        <input type="text" placeholder="type to search..." class="search__input" id="js-search__input">
      </div>
    </div>
    <ul class="search__results" id="js-search__results"></ul>
</header> <!-- End Header -->

  <footer>
    <section class="contact">
      <h3 class="contact-title">Contact me</h3>
      <ul>
        
          <li><a href="https://twitter.com/NixImagery" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
        
        
          <li><a href="https://orcid.org/0000-0001-7891-9736" target="_blank"><i class="ai ai-orcid-square" aria-hidden="true"></i></a></li>
        
        
          <li><a href="https://facebook.com/NixImagery" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
        
        
          <li class="github"><a href="http://github.com/NixImagery" target="_blank"><i class="fa fa-github"></i></a></li>
        
        
          <li><a href="https://instagram.com/NixImagery" target="_blank"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>
        
        
        
          <li class="email"><a href="mailto:nick@cullaloe.com"><i class="fa fa-envelope-o"></i></a></li>
        
      </ul>
    </section> <!-- End Section Contact -->
    <div class="copyright">
      <p>2021 &copy; Nick Hood</p>
      <hr>Worried about online abuse? <a href="https://www.ceop.police.uk/safety-centre/">Report it to CEOP</a>
    </div>
  </footer> <!-- End Footer -->
</aside> <!-- End Sidebar -->

<div class="content-box clearfix">
  <article class="article-page">
  <div class="page-content">
    
    <div class="page-cover-image">
      <figure>
        <img class="page-image" src=/assets/img/Screenshot-2020-08-30.png alt="Video capture and production including closed captions">
        
          <figcaption>Screenshot
            
              <br/><div class="attrib">Nick Hood</div>
            
          </figcaption>
        
      </figure>
    </div> <!-- End Page Cover Image -->
    
    <div class="wrap-content">
      <header class="header-page">
        <h1 class="page-title">Video capture and production including closed captions</h1>
        <div class="page-date"><span>2020, Aug 30&nbsp;&nbsp;&nbsp;&nbsp;</span></div>
      </header>
      <h2 class="no_toc" id="introduction">Introduction</h2>

<p>I am required to produce video resources for my students who are coming to the University very soon, either in person or digitally: our teaching under the COVID adjustments is “digital first”. We are also particularly keen to support those students who might require captions on their videos. This isn’t just those who might be hearing or visually impaired, it’s all students who might like the ability sometimes to have the extra clarity provided by words on the screen that reflect the words spoken by the presenter.</p>

<p>Here’s my take on a workflow model to make this work well. There are existing facilities to do this semi-automatically – uploaded videos can have an automated transcription generated but this takes a lot of time, and requires the creator to go back on subsequent days to hand-edit any errors or make any other adjustments.</p>

<p>I like to do a task and complete it: I like to get it right and take my time over that. Once it’s done, I like to move on to the next set of tasks. To that end, here is a way I have found of creating video, with quality captioning for those who need it, and the ability to switch it off for those who find it a distraction.</p>

<p><strong>Edit:</strong> I’ve updated this in light of new insight from my colleague, Audrey Cameron, about adding <code class="language-plaintext highlighter-rouge">.srt</code> files to Media Hopper video uploads.</p>

<h2 class="no_toc" id="contents">Contents</h2>

<ul id="markdown-toc">
  <li><a href="#subtitles-vs-captions" id="markdown-toc-subtitles-vs-captions">Subtitles vs. captions</a></li>
  <li><a href="#capturing-the-video-and-audio" id="markdown-toc-capturing-the-video-and-audio">Capturing the video and audio</a></li>
  <li><a href="#processing" id="markdown-toc-processing">Processing</a></li>
  <li><a href="#getting-the-transcript" id="markdown-toc-getting-the-transcript">Getting the transcript</a></li>
  <li><a href="#add-closed-captions-to-the-video-file" id="markdown-toc-add-closed-captions-to-the-video-file">Add Closed Captions to the video file</a></li>
  <li><a href="#finished-part-one" id="markdown-toc-finished-part-one">Finished, part one</a></li>
  <li><a href="#media-hopper-create" id="markdown-toc-media-hopper-create">Media Hopper Create</a></li>
  <li><a href="#a-workaround-if-you-cant-use-media-hopper-create" id="markdown-toc-a-workaround-if-you-cant-use-media-hopper-create">A workaround if you can’t use Media Hopper Create</a>    <ul>
      <li><a href="#bizarre-path-changes" id="markdown-toc-bizarre-path-changes">Bizarre path changes</a></li>
    </ul>
  </li>
  <li><a href="#finished-part-two" id="markdown-toc-finished-part-two">Finished, part two</a></li>
</ul>

<h2 id="subtitles-vs-captions">Subtitles vs. captions</h2>

<p>Subtitles are embedded in DVD movies and the like for languages other than that on the audio. Multiple subtitle tracks can be embedded within a title, or switched off if the audio track is in the native language of the speaker. Captions, on the other hand, are a transcription of dialogue in the video. <strong>Closed captions</strong> are distinguished from <strong>open captions</strong> by being able to be switched off if required. Open captions are often embedded in the video and cannot be turned off. My intention in this workflow is to provide closed captions.</p>

<h2 id="capturing-the-video-and-audio">Capturing the video and audio</h2>

<p>I captured my video for the proof-of-concept using a <a href="https://fujifilm-x.com/global/products/cameras/x-t2/">Fuji X-T2</a> APS-C digital mirrorless camera which takes 1080p (1920 x 1080) video. Although the camera records stereo audio, I prefer to capture audio separately using a <a href="https://www.zoom.co.jp/products/handy-recorder/h1-handy-recorder">Zoom H-1</a> recorder. The quality is much better, not least because the mic is with the speaker, not the camera.</p>

<h2 id="processing">Processing</h2>

<p>I import the video and audio tracks into <a href="https://www.apple.com/uk/imovie/">iMovie</a>, trim out the top and tail and make other edits, and remove the embedded audio track captured by the camera. This is replaced with the Zoom audio, which can be a bit of a fiddle to align well with the video. The audio waveform can help here but that depends on the recording environment. Depending on the exposure settings on the camera, you might want to “enhance” the video in iMovie for a contrastier image. Once you have added any title sequences (or credits) and  transitions, export the finished video (via the “share” menu) as an mp4 file.</p>

<h2 id="getting-the-transcript">Getting the transcript</h2>

<p>Open the mp4 file in Quicktime and export as an audio file, the default m4a format is OK. This file can be uploaded to a blank Word document in Office 365 via the Dictate drop-down menu (select Transcribe). This will do a pretty decent job of turning your dialogue into text.</p>

<p>Save the .docx file and convert it to a plain text format - I prefer markdown, although this isn’t necessary provided you can finish up with a plain text file. I do the conversion using pandoc:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>pandoc transcript.docx <span class="nt">-o</span> transcript.md
</code></pre></div></div>

<p>This file can now be edited, correcting any errors in the transcription and chunking the dialogue to make it show at the right time during the video. This is easily done with the video window open on the desktop next to your editor. You should add section markers and timestamps for subtitles as you go through the video. A minimal example:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1
00:00:01,00 <span class="nt">--</span><span class="o">&gt;</span> 00:00:01,30
Welcome to my interesting video.

2
00:00:01,50 <span class="nt">--</span><span class="o">&gt;</span> 00:00:02,30
Everybody says how good my videos are.
</code></pre></div></div>

<p>Finally, you will need this transcript in the correct format for embedding into the video file. This is a simple matter of changing the filetype to .srt (which is a “SubRip Subtitle” file).</p>

<h2 id="add-closed-captions-to-the-video-file">Add Closed Captions to the video file</h2>

<p><em>Note, this step may not be necessary.</em> If you are uploading to Media Hopper or a similar service that allows uploading of <code class="language-plaintext highlighter-rouge">.srt</code> files, you don’t need to add the captions to the video file itself.</p>

<p>The <code class="language-plaintext highlighter-rouge">ffmpeg</code> tool is best for this. This tool (and others you might need) can be installed simply using <code class="language-plaintext highlighter-rouge">brew</code> if it isn’t already on your system. I don’t propose to detail how to do this, but in essence, it’s a matter of typing<code class="language-plaintext highlighter-rouge">$ brew install ffmpeg</code> in a terminal window. Once you have it, add the captions:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ffmpeg <span class="nt">-i</span> videofile.mp4 <span class="nt">-i</span> transcriptfile.srt <span class="nt">-c</span>:v copy <span class="nt">-c</span>:a copy  <span class="nt">-c</span>:s mov_text <span class="nt">-metadata</span>:s:s:0 <span class="nv">language</span><span class="o">=</span>eng output.mp4
</code></pre></div></div>
<p>The program accepts input files, which are you video and the srt file containing the captions and timings. Video and audio are merely copied to the output file.</p>

<h2 id="finished-part-one">Finished, part one</h2>

<p>The video file you have just created is now shareable: users can play it on their machines and opt to switch captioning on or off if they wish. Their computer may choose to control this behaviour automatically if local settings allow it.</p>

<p>I need to distribute this video using resources within the VLE (virtual learning environment, in my case, Blackboard Learn and <a href="https://media.ed.ac.uk/">Media Hopper</a>. This is where it gets sticky.</p>

<h2 id="media-hopper-create">Media Hopper Create</h2>

<p>It’s easy to upload a video to the Blackboard VLE by clicking on <code class="language-plaintext highlighter-rouge">Media Hopper Create</code> in the <code class="language-plaintext highlighter-rouge">Tools</code> menu. This is very nice but this process ignores any embedded captions track. Captions must be uploaded in their own file, in <code class="language-plaintext highlighter-rouge">.srt</code> format. The service is fussy about the formatting of text within the file, and will just stop working if it finds something it doesn’t like. Get the format right, however, and it works just fine, for English captions at least.</p>

<p>You can ask for subtitles to be automatically created for the uploaded video but this is a machine-based and low-quality service that isn’t really any good. It creates, ironically, a CC track that is inferior to the one included in the uploaded file. It is possible to order a professional transcription from the University transcription service, although I haven’t considered this.</p>

<h2 id="a-workaround-if-you-cant-use-media-hopper-create">A workaround if you can’t use Media Hopper Create</h2>

<p>An alternative way to embed media without using Media Hopper is as follows. Within Learn, add a new item. This is effectively a webpage, and using the editing tools, you can upload two files. The first is the mp4 video file (it is not necessary for this file to have the embedded captions track).</p>

<p>The second file contains the captions and timing information in our <code class="language-plaintext highlighter-rouge">srt</code> file, but needs to be in a different format. This format is <strong>Web Video Text Tracks (VTT)</strong>, and is easily obtained using ffmpeg:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ffmpeg <span class="nt">-i</span> srtfile.srt subtitlefile.vtt
</code></pre></div></div>

<p>Having uploaded these two files to the Learn Item, it is necessary to edit the HTML using the built-in HTML editor (click the double chevron at the right end of the tool bar to reveal it). The item source should be edited to contain a <code class="language-plaintext highlighter-rouge">&lt;video&gt;</code> tag:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;p&gt;</span>  
<span class="nt">&lt;video</span> <span class="na">width=</span><span class="s">"640"</span> <span class="na">height=</span><span class="s">"360"</span> <span class="na">controls=</span><span class="s">"controls"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;source</span> <span class="na">src=</span><span class="s">"https://www.learn.ed.ac.uk/path-to-video"</span> <span class="na">type=</span><span class="s">"video/mp4"</span><span class="nt">&gt;</span>  
	<span class="nt">&lt;track</span> <span class="na">src=</span><span class="s">"https://www.learn.ed.ac.uk/path-to-vtt-file"</span> <span class="na">kind=</span><span class="s">"captions"</span> <span class="na">srclang=</span><span class="s">"en"</span> <span class="na">label=</span><span class="s">"English"</span> <span class="na">default</span><span class="nt">&gt;</span>
	Your browser does not support the video tag.
<span class="nt">&lt;/video&gt;</span>
<span class="nt">&lt;/p&gt;</span>
</code></pre></div></div>

<p>Irrespective of what you type in the editor, Learn will try to close the <code class="language-plaintext highlighter-rouge">&lt;track&gt;</code> tags, even though they shouldn’t be. It will result in users of older browsers not seeing the message about not supporting the video tag. I have little sympathy for them.</p>

<h3 id="bizarre-path-changes">Bizarre path changes</h3>

<p>The path to video and the <code class="language-plaintext highlighter-rouge">vtt</code> files is available in the links to them put there by Learn when you uploaded the files. It is not necessary to keep these links, but there is another little feature you should be aware of. When you upload a file like this, it will be given a path that ends in something like “mp4” or “vtt”. If you use this path in your <code class="language-plaintext highlighter-rouge">source</code> or <code class="language-plaintext highlighter-rouge">track</code> tags above, it will not work. This is because Learn <strong>changes the url for embedded files after your edits are submitted.</strong> This behaviour makes no sense to me, but what it means is that you will have to (1) upload the files and submit the edits to the item you are creating, then (2) edit it again and get the new paths to use in the <code class="language-plaintext highlighter-rouge">source</code> and <code class="language-plaintext highlighter-rouge">track</code> tags. Just another bizarre feature of Blackboard Learn, I suppose.</p>

<h2 id="finished-part-two">Finished, part two</h2>

<p>This is a workaround but we now have the facility to make and upload good quality video with closed captioning that can be viewed by students within their Learn course.</p>

<!--## Footnotes-->

      <div class="page-footer">
        <div class="page-share">Share this post on 
          <a href="https://twitter.com/intent/tweet?text=Video capture and production including closed captions&url=https://cullaloe.com/video-cc-workflow/" title="Share on Twitter" rel="nofollow" target="_blank">Twitter</a> or 
          <a href="https://facebook.com/sharer.php?u=https://cullaloe.com/video-cc-workflow/" title="Share on Facebook" rel="nofollow" target="_blank">Facebook</a>, or maybe 
          <a target="_blank" href="https://www.buymeacoffee.com/cullaloe">Buy me a coffee</a>
        </div>
        <div class="page-tag">
          
            <a href="/tags#Education" class="tag">&#35; Education</a>
          
            <a href="/tags#Digital+Literacy" class="tag">&#35; Digital Literacy</a>
          
            <a href="/tags#Video" class="tag">&#35; Video</a>
          
            <a href="/tags#Closed+Caption" class="tag">&#35; Closed Caption</a>
          
            <a href="/tags#OSX" class="tag">&#35; OSX</a>
          
            <a href="/tags#Transcription" class="tag">&#35; Transcription</a>
          
        </div>
      </div>
      <section class="comment-area">
  <div class="comment-wrapper">
    
    <div id="disqus_thread" class="article-comments"></div>
    <script>
      (function() {
          var d = document, s = d.createElement('script');
          s.src = '//cullaloe-gh.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    
  </div>
</section> <!-- End Comment Area -->

    </div> <!-- End Wrap Content -->
  </div> <!-- End Page Content -->
</article> <!-- End Article Page -->

</div>

  </div>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-29333042-8', 'auto');
  ga('send', 'pageview');
</script> <!-- End Analytics -->

	<!-- Scripts -->
  <!-- Search Js -->
<script src="/assets/js/search.js"></script>
  
</body>
</html>
